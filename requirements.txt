# =============================================================================
# EXAM GRADER - UNIFIED REQUIREMENTS
# =============================================================================
# Complete dependency list for the Exam Grader application
# Includes core, optional, development, and OCR dependencies

# ===== CORE RUNTIME DEPENDENCIES =====

# HTTP and API Communication
requests>=2.32.3                    # HTTP library for API calls (security updates)
openai>=1.54.0                     # OpenAI API client for LLM services (latest stable)

# Configuration and Environment
python-dotenv>=1.0.1               # Environment variable management

# Data Validation and Processing
validators>=0.24.0                 # Input validation utilities (updated)
MarkupSafe>=3.0.2                 # Safe string handling

# Document Processing (Core)
PyMuPDF>=1.24.11                  # PDF processing (fitz module) - security updates
python-docx>=1.1.2                # Word document processing (updated)
Pillow>=10.4.0                    # Image processing (security updates)

# Document Processing (Optional)
pdfplumber>=0.10.0                # Alternative PDF processing
docx2txt>=0.8                     # Simple Word document text extraction

# ===== WEB FRAMEWORK =====

# Flask Core
Flask>=3.0.3                      # Web framework (latest stable)
Werkzeug>=3.0.4                   # WSGI utilities (security updates)
Jinja2>=3.1.4                     # Template engine (security updates)

# Flask Extensions (Essential)
Flask-WTF>=1.2.1                  # CSRF protection and forms
Flask-Login>=0.6.3                # User session management
Flask-CORS>=5.0.0                 # Cross-origin resource sharing (updated)
Flask-Caching>=2.3.0              # Application-level caching (updated)
Flask-Limiter>=3.8.0              # API rate limiting (updated)
Flask-Babel>=4.0.0                # Internationalization support (updated)

# Forms and Validation
WTForms>=3.1.2                    # Form handling and validation (updated)

# ===== DATABASE =====

# SQLAlchemy Core
SQLAlchemy>=2.0.36                # Database toolkit (latest stable)
Flask-SQLAlchemy>=3.1.1           # Flask-SQLAlchemy integration
Flask-Migrate>=4.0.7              # Database migrations (updated)

# ===== SECURITY =====

# Cryptography and Security
cryptography>=43.0.3              # Encryption and secure storage (security updates)
tenacity>=9.0.0                   # Retry logic with exponential backoff (updated)

# ===== REAL-TIME COMMUNICATION =====

# WebSocket Support
Flask-SocketIO>=5.4.1             # WebSocket support for real-time updates (updated)
python-socketio>=5.11.4           # Socket.IO Python client (updated)

# ===== FILE HANDLING =====

# File Type Detection
python-magic>=0.4.27              # File type detection
python-magic-bin>=0.4.14; sys_platform == 'win32'  # Windows magic bindings

# ===== PRODUCTION SERVER =====

# WSGI Server
gunicorn>=23.0.0                  # Production WSGI server (major update)

# ===== DATA PROCESSING AND ANALYTICS =====

# Data Analysis (for Excel export and advanced analytics)
numpy>=2.1.3                      # Numerical computing (major update)
pandas>=2.2.3                     # Data manipulation and analysis (updated)
matplotlib>=3.9.2                 # Plotting and visualization (updated)
seaborn>=0.13.2                   # Statistical data visualization (updated)
openpyxl>=3.1.5                   # Excel file support (updated)

# ===== BACKGROUND TASKS =====

# Background Task Processing
celery>=5.4.0                     # Distributed task queue (updated)
redis>=5.2.0                      # Redis client for Celery broker (updated)

# ===== PDF GENERATION =====

# PDF Generation and Reports
reportlab>=4.2.5                  # PDF generation library (updated)
weasyprint>=62.3                  # HTML to PDF conversion (updated)

# ===== SYSTEM MONITORING =====

# System Monitoring
psutil>=6.1.0                     # System and process monitoring (updated)

# ===== ASYNC OPERATIONS =====

# Asynchronous File Operations
aiofiles>=24.1.0                  # Async file I/O (updated)
aiocache>=0.12.3                  # Async caching (updated)

# ===== INTERNATIONALIZATION =====

# Multi-language Support
Babel>=2.16.0                     # Localization utilities (updated)

# ===== DEVELOPMENT AND TESTING =====

# Core Testing
pytest>=8.3.3                     # Testing framework (updated)
pytest-cov>=6.0.0                 # Coverage reporting (updated)
pytest-mock>=3.14.0               # Mocking utilities (updated)
pytest-asyncio>=0.24.0            # Async testing support (updated)

# Test Data and Fixtures
factory-boy>=3.3.0                # Test data generation
faker>=30.8.2                     # Fake data generation (updated)

# Code Quality Tools
black>=24.10.0                    # Code formatter (updated)
isort>=5.13.2                     # Import sorting
flake8>=7.1.1                     # Code linting (updated)
pylint>=3.3.1                     # Advanced code analysis (updated)
bandit>=1.8.0                     # Security linting (updated)
mypy>=1.13.0                      # Static type checking (updated)

# Type Stubs for Third-party Libraries
types-requests>=2.32.0            # Type stubs for requests (updated)
types-python-dateutil>=2.9.0      # Type stubs for dateutil (updated)
types-PyYAML>=6.0.12              # Type stubs for PyYAML
types-Pillow>=10.2.0              # Type stubs for Pillow
types-cryptography>=3.3.23        # Type stubs for cryptography

# Documentation Generation
sphinx>=8.1.3                     # Documentation generator (updated)
sphinx-rtd-theme>=3.0.2           # Read the Docs theme (updated)
sphinx-autodoc-typehints>=2.4.4   # Type hints in docs (updated)

# HTTP Testing
httpx>=0.28.1                     # Modern HTTP client for testing (updated)
responses>=0.25.3                 # Mock HTTP responses (updated)

# ===== FALLBACK OCR ENGINES =====
# ⚠️ WARNING: OCR engines require 2-3GB of disk space
# Install selectively based on your needs

# EasyOCR - General purpose OCR with good balance of speed and accuracy
easyocr>=1.7.1                    # Updated

# PaddleOCR - High accuracy OCR from Baidu, excellent for production use
paddlepaddle>=2.6.2               # Updated
paddleocr>=2.8.1                  # Updated

# TrOCR - Microsoft's transformer-based OCR, excellent for handwritten text
transformers>=4.46.3              # Updated (major version)
torch>=2.5.1                      # Updated (major version)
torchvision>=0.20.1               # Updated (major version)

# Tesseract - Classic OCR engine, good for printed text
pytesseract>=0.3.13               # Updated

# Supporting Libraries for OCR
opencv-python>=4.10.0             # Computer vision library (updated)
sentencepiece>=0.2.0              # Text tokenization (updated)
tokenizers>=0.20.3                # Fast tokenizers (updated)

# =============================================================================
# INSTALLATION INSTRUCTIONS
# =============================================================================

# Basic installation (core functionality only):
# pip install -r requirements.txt

# Note: This unified file includes ALL dependencies. For minimal installation,
# comment out sections you don't need:
# - Data Processing (numpy, pandas, openpyxl)
# - Background Tasks (celery, redis)
# - PDF Generation (reportlab, weasyprint)
# - Development Tools (pytest, black, etc.)
# - OCR Engines (easyocr, paddleocr, etc.)

# =============================================================================
# DEPENDENCY MANAGEMENT NOTES
# =============================================================================

# 1. This unified file contains ALL dependencies for the application
# 2. Comment out sections you don't need to reduce installation size
# 3. OCR engines require significant disk space (2-3GB)
# 4. Use virtual environments to avoid conflicts
# 5. Pin versions for production deployments
# 6. Regularly update dependencies for security patches

# Total dependencies: ~80 packages
# Core only: ~30 packages (~150MB)
# With OCR engines: ~80 packages (~2-3GB)
