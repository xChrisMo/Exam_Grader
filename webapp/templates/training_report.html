{% extends \"layout.html\" %}\n\n{% block title %}Training Report - {{ session.name }}{% endblock %}\n\n{% block extra_css %}\n<style>\n  /* Report viewer specific styles */\n  .report-section {\n    scroll-margin-top: 80px;\n  }\n  \n  .chart-container {\n    position: relative;\n    height: 300px;\n    margin: 20px 0;\n  }\n  \n  .report-nav {\n    position: sticky;\n    top: 0;\n    z-index: 40;\n    background: white;\n    border-bottom: 1px solid #e5e7eb;\n  }\n  \n  .report-content {\n    max-height: calc(100vh - 200px);\n    overflow-y: auto;\n  }\n  \n  .confidence-meter {\n    background: linear-gradient(90deg, #ef4444 0%, #f59e0b 50%, #10b981 100%);\n    height: 8px;\n    border-radius: 4px;\n    position: relative;\n  }\n  \n  .confidence-indicator {\n    position: absolute;\n    top: -2px;\n    width: 12px;\n    height: 12px;\n    background: white;\n    border: 2px solid #374151;\n    border-radius: 50%;\n    transform: translateX(-50%);\n  }\n  \n  .question-card {\n    transition: all 0.2s ease;\n  }\n  \n  .question-card:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\n  }\n  \n  .print-hidden {\n    display: block;\n  }\n  \n  @media print {\n    .print-hidden {\n      display: none !important;\n    }\n    \n    .report-content {\n      max-height: none;\n      overflow: visible;\n    }\n    \n    .chart-container {\n      break-inside: avoid;\n    }\n    \n    .question-card {\n      break-inside: avoid;\n      margin-bottom: 20px;\n    }\n  }\n</style>\n{% endblock %}\n\n{% block content %}\n<div class=\"min-h-screen bg-gray-50\">\n  \n  <!-- Report Navigation -->\n  <div class=\"report-nav bg-white shadow-sm print-hidden\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      <div class=\"flex items-center justify-between py-4\">\n        <div class=\"flex items-center space-x-4\">\n          <nav class=\"flex\" aria-label=\"Breadcrumb\">\n            <ol class=\"flex items-center space-x-4\">\n              <li>\n                <div>\n                  <a href=\"{{ url_for('training.manage_sessions') }}\" class=\"text-gray-400 hover:text-gray-500\">\n                    <svg class=\"flex-shrink-0 h-5 w-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path d=\"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z\"></path>\n                    </svg>\n                    <span class=\"sr-only\">Training Sessions</span>\n                  </a>\n                </div>\n              </li>\n              <li>\n                <div class=\"flex items-center\">\n                  <svg class=\"flex-shrink-0 h-5 w-5 text-gray-300\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fill-rule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clip-rule=\"evenodd\"></path>\n                  </svg>\n                  <a href=\"{{ url_for('training.manage_sessions') }}\" class=\"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700\">Sessions</a>\n                </div>\n              </li>\n              <li>\n                <div class=\"flex items-center\">\n                  <svg class=\"flex-shrink-0 h-5 w-5 text-gray-300\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fill-rule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clip-rule=\"evenodd\"></path>\n                  </svg>\n                  <span class=\"ml-4 text-sm font-medium text-gray-900\">{{ session.name }} Report</span>\n                </div>\n              </li>\n            </ol>\n          </nav>\n        </div>\n        \n        <div class=\"flex items-center space-x-3\">\n          <!-- Report Navigation Menu -->\n          <div class=\"relative\">\n            <select id=\"report-section-nav\" class=\"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\">\n              <option value=\"overview\">Overview</option>\n              <option value=\"statistics\">Statistics</option>\n              <option value=\"confidence\">Confidence Analysis</option>\n              <option value=\"questions\">Question Details</option>\n              <option value=\"errors\">Error Analysis</option>\n            </select>\n          </div>\n          \n          <!-- Action Buttons -->\n          <button type=\"button\" id=\"print-report\" class=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\">\n            <svg class=\"-ml-1 mr-2 h-5 w-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z\"></path>\n            </svg>\n            Print\n          </button>\n          \n          <button type=\"button\" id=\"download-pdf\" class=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\">\n            <svg class=\"-ml-1 mr-2 h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path>\n            </svg>\n            Download PDF\n          </button>\n          \n          <button type=\"button\" id=\"share-report\" class=\"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\">\n            <svg class=\"-ml-1 mr-2 h-5 w-5 text-gray-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\"></path>\n            </svg>\n            Share\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <!-- Report Content -->\n  <div class=\"report-content max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n    \n    <!-- Overview Section -->\n    <section id=\"overview\" class=\"report-section mb-12\">\n      <div class=\"bg-white shadow rounded-lg overflow-hidden\">\n        <div class=\"px-6 py-4 border-b border-gray-200\">\n          <h2 class=\"text-2xl font-bold text-gray-900\">Training Report Overview</h2>\n          <p class=\"mt-1 text-sm text-gray-600\">{{ session.name }} - Generated on {{ report.generated_at or 'now' }}</p>\n        </div>\n        \n        <div class=\"p-6\">\n          <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            <div class=\"bg-blue-50 rounded-lg p-4\">\n              <div class=\"flex items-center\">\n                <div class=\"flex-shrink-0\">\n                  <svg class=\"h-8 w-8 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path>\n                  </svg>\n                </div>\n                <div class=\"ml-4\">\n                  <p class=\"text-sm font-medium text-blue-600\">Total Questions</p>\n                  <p class=\"text-2xl font-bold text-blue-900\">{{ report.total_questions or 0 }}</p>\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"bg-green-50 rounded-lg p-4\">\n              <div class=\"flex items-center\">\n                <div class=\"flex-shrink-0\">\n                  <svg class=\"h-8 w-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n                  </svg>\n                </div>\n                <div class=\"ml-4\">\n                  <p class=\"text-sm font-medium text-green-600\">Avg. Confidence</p>\n                  <p class=\"text-2xl font-bold text-green-900\">{{ \"%.2f\"|format(report.avg_confidence or 0) }}</p>\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"bg-yellow-50 rounded-lg p-4\">\n              <div class=\"flex items-center\">\n                <div class=\"flex-shrink-0\">\n                  <svg class=\"h-8 w-8 text-yellow-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n                  </svg>\n                </div>\n                <div class=\"ml-4\">\n                  <p class=\"text-sm font-medium text-yellow-600\">Files Processed</p>\n                  <p class=\"text-2xl font-bold text-yellow-900\">{{ report.files_processed or 0 }}</p>\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"bg-purple-50 rounded-lg p-4\">\n              <div class=\"flex items-center\">\n                <div class=\"flex-shrink-0\">\n                  <svg class=\"h-8 w-8 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n                  </svg>\n                </div>\n                <div class=\"ml-4\">\n                  <p class=\"text-sm font-medium text-purple-600\">Duration</p>\n                  <p class=\"text-2xl font-bold text-purple-900\">{{ report.duration or '0m' }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Training Summary -->\n          <div class=\"mt-8\">\n            <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Training Summary</h3>\n            <div class=\"prose max-w-none\">\n              <p class=\"text-gray-600\">{{ report.summary or 'Training completed successfully with good overall confidence scores. The model has been trained on various question types and shows consistent performance across different categories.' }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n    \n    <!-- Statistics Section -->\n    <section id=\"statistics\" class=\"report-section mb-12\">\n      <div class=\"bg-white shadow rounded-lg overflow-hidden\">\n        <div class=\"px-6 py-4 border-b border-gray-200\">\n          <h2 class=\"text-xl font-bold text-gray-900\">Training Statistics</h2>\n        </div>\n        \n        <div class=\"p-6\">\n          <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n            <!-- Question Type Distribution -->\n            <div>\n              <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Question Type Distribution</h3>\n              <div class=\"chart-container\">\n                <canvas id=\"question-type-chart\"></canvas>\n              </div>\n            </div>\n            \n            <!-- Processing Time Distribution -->\n            <div>\n              <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Processing Time Distribution</h3>\n              <div class=\"chart-container\">\n                <canvas id=\"processing-time-chart\"></canvas>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n    \n    <!-- Confidence Analysis Section -->\n    <section id=\"confidence\" class=\"report-section mb-12\">\n      <div class=\"bg-white shadow rounded-lg overflow-hidden\">\n        <div class=\"px-6 py-4 border-b border-gray-200\">\n          <h2 class=\"text-xl font-bold text-gray-900\">Confidence Analysis</h2>\n        </div>\n        \n        <div class=\"p-6\">\n          <!-- Overall Confidence Meter -->\n          <div class=\"mb-8\">\n            <div class=\"flex items-center justify-between mb-2\">\n              <h3 class=\"text-lg font-medium text-gray-900\">Overall Confidence Score</h3>\n              <span class=\"text-2xl font-bold text-gray-900\">{{ \"%.1f\"|format((report.avg_confidence or 0) * 100) }}%</span>\n            </div>\n            <div class=\"confidence-meter\">\n              <div class=\"confidence-indicator\" style=\"left: {{ (report.avg_confidence or 0) * 100 }}%\"></div>\n            </div>\n            <div class=\"flex justify-between text-xs text-gray-500 mt-1\">\n              <span>Low (0-60%)</span>\n              <span>Medium (60-80%)</span>\n              <span>High (80-100%)</span>\n            </div>\n          </div>\n          \n          <!-- Confidence Distribution Chart -->\n          <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n            <div>\n              <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Confidence Distribution</h3>\n              <div class=\"chart-container\">\n                <canvas id=\"confidence-distribution-chart\"></canvas>\n              </div>\n            </div>\n            \n            <div>\n              <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Confidence by Question Type</h3>\n              <div class=\"chart-container\">\n                <canvas id=\"confidence-by-type-chart\"></canvas>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Low Confidence Questions -->\n          <div class=\"mt-8\">\n            <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Questions Requiring Review (Low Confidence)</h3>\n            <div class=\"space-y-4\">\n              {% for question in report.low_confidence_questions or [] %}\n              <div class=\"border border-red-200 rounded-lg p-4 bg-red-50\">\n                <div class=\"flex items-start justify-between\">\n                  <div class=\"flex-1\">\n                    <p class=\"text-sm font-medium text-red-800\">Question {{ loop.index }}</p>\n                    <p class=\"text-sm text-red-700 mt-1\">{{ question.text or 'Sample low confidence question text...' }}</p>\n                  </div>\n                  <div class=\"ml-4 flex-shrink-0\">\n                    <span class=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\n                      {{ \"%.1f\"|format((question.confidence or 0.4) * 100) }}%\n                    </span>\n                  </div>\n                </div>\n              </div>\n              {% else %}\n              <p class=\"text-sm text-gray-500\">No low confidence questions found. All questions meet the confidence threshold.</p>\n              {% endfor %}\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n    \n    <!-- Question Details Section -->\n    <section id=\"questions\" class=\"report-section mb-12\">\n      <div class=\"bg-white shadow rounded-lg overflow-hidden\">\n        <div class=\"px-6 py-4 border-b border-gray-200\">\n          <h2 class=\"text-xl font-bold text-gray-900\">Question Details</h2>\n          <p class=\"mt-1 text-sm text-gray-600\">Detailed analysis of all processed questions</p>\n        </div>\n        \n        <div class=\"p-6\">\n          <!-- Question Filters -->\n          <div class=\"mb-6 flex flex-wrap gap-4\">\n            <select id=\"question-filter-type\" class=\"block w-auto pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\">\n              <option value=\"\">All Types</option>\n              <option value=\"multiple_choice\">Multiple Choice</option>\n              <option value=\"short_answer\">Short Answer</option>\n              <option value=\"essay\">Essay</option>\n              <option value=\"calculation\">Calculation</option>\n            </select>\n            \n            <select id=\"question-filter-confidence\" class=\"block w-auto pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md\">\n              <option value=\"\">All Confidence Levels</option>\n              <option value=\"high\">High (≥80%)</option>\n              <option value=\"medium\">Medium (60-80%)</option>\n              <option value=\"low\">Low (<60%)</option>\n            </select>\n            \n            <input type=\"text\" id=\"question-search\" placeholder=\"Search questions...\" class=\"block w-64 pl-3 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm\">\n          </div>\n          \n          <!-- Questions List -->\n          <div id=\"questions-list\" class=\"space-y-6\">\n            <!-- Questions will be populated by JavaScript -->\n          </div>\n          \n          <!-- Pagination -->\n          <div class=\"mt-8 flex items-center justify-between\">\n            <div class=\"flex-1 flex justify-between sm:hidden\">\n              <button id=\"prev-page-mobile\" class=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\">\n                Previous\n              </button>\n              <button id=\"next-page-mobile\" class=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\">\n                Next\n              </button>\n            </div>\n            <div class=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n              <div>\n                <p class=\"text-sm text-gray-700\">\n                  Showing <span id=\"page-start\">1</span> to <span id=\"page-end\">10</span> of <span id=\"total-questions\">{{ report.total_questions or 0 }}</span> questions\n                </p>\n              </div>\n              <div>\n                <nav class=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\" id=\"pagination-nav\">\n                  <!-- Pagination buttons will be generated by JavaScript -->\n                </nav>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n    \n    <!-- Error Analysis Section -->\n    <section id=\"errors\" class=\"report-section mb-12\">\n      <div class=\"bg-white shadow rounded-lg overflow-hidden\">\n        <div class=\"px-6 py-4 border-b border-gray-200\">\n          <h2 class=\"text-xl font-bold text-gray-900\">Error Analysis</h2>\n        </div>\n        \n        <div class=\"p-6\">\n          {% if report.errors and report.errors|length > 0 %}\n          <div class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n            <!-- Error Type Distribution -->\n            <div>\n              <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Error Type Distribution</h3>\n              <div class=\"chart-container\">\n                <canvas id=\"error-type-chart\"></canvas>\n              </div>\n            </div>\n            \n            <!-- Error Timeline -->\n            <div>\n              <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Error Timeline</h3>\n              <div class=\"chart-container\">\n                <canvas id=\"error-timeline-chart\"></canvas>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Error Details -->\n          <div class=\"mt-8\">\n            <h3 class=\"text-lg font-medium text-gray-900 mb-4\">Error Details</h3>\n            <div class=\"space-y-4\">\n              {% for error in report.errors %}\n              <div class=\"border border-red-200 rounded-lg p-4 bg-red-50\">\n                <div class=\"flex items-start\">\n                  <div class=\"flex-shrink-0\">\n                    <svg class=\"h-5 w-5 text-red-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fill-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clip-rule=\"evenodd\"></path>\n                    </svg>\n                  </div>\n                  <div class=\"ml-3 flex-1\">\n                    <h4 class=\"text-sm font-medium text-red-800\">{{ error.type or 'Processing Error' }}</h4>\n                    <p class=\"text-sm text-red-700 mt-1\">{{ error.message or 'An error occurred during processing.' }}</p>\n                    <p class=\"text-xs text-red-600 mt-2\">{{ error.timestamp or 'Unknown time' }}</p>\n                  </div>\n                </div>\n              </div>\n              {% endfor %}\n            </div>\n          </div>\n          {% else %}\n          <div class=\"text-center py-12\">\n            <svg class=\"mx-auto h-12 w-12 text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\n            </svg>\n            <h3 class=\"mt-2 text-sm font-medium text-gray-900\">No Errors Found</h3>\n            <p class=\"mt-1 text-sm text-gray-500\">Training completed successfully without any errors.</p>\n          </div>\n          {% endif %}\n        </div>\n      </div>\n    </section>\n    \n  </div>\n</div>\n\n<!-- Share Modal -->\n<div id=\"share-modal\" class=\"fixed inset-0 z-50 overflow-y-auto print-hidden\" style=\"display: none;\">\n  <div class=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n    <div class=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" id=\"share-modal-backdrop\"></div>\n    \n    <span class=\"hidden sm:inline-block sm:align-middle sm:h-screen\">&#8203;</span>\n    \n    <div class=\"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6\">\n      <div class=\"sm:flex sm:items-start\">\n        <div class=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10\">\n          <svg class=\"h-6 w-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z\"></path>\n          </svg>\n        </div>\n        <div class=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full\">\n          <h3 class=\"text-lg leading-6 font-medium text-gray-900\">Share Training Report</h3>\n          <div class=\"mt-4\">\n            <label for=\"share-url\" class=\"block text-sm font-medium text-gray-700\">Report URL</label>\n            <div class=\"mt-1 flex rounded-md shadow-sm\">\n              <input type=\"text\" id=\"share-url\" class=\"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-l-md border border-gray-300 focus:ring-blue-500 focus:border-blue-500 sm:text-sm\" readonly>\n              <button type=\"button\" id=\"copy-url\" class=\"inline-flex items-center px-3 py-2 border border-l-0 border-gray-300 rounded-r-md bg-gray-50 text-gray-500 text-sm hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500\">\n                Copy\n              </button>\n            </div>\n          </div>\n          \n          <div class=\"mt-4\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Share via</label>\n            <div class=\"flex space-x-3\">\n              <button type=\"button\" class=\"share-button inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\" data-platform=\"email\">\n                <svg class=\"-ml-0.5 mr-2 h-4 w-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path d=\"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z\"></path>\n                  <path d=\"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z\"></path>\n                </svg>\n                Email\n              </button>\n              \n              <button type=\"button\" class=\"share-button inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\" data-platform=\"teams\">\n                <svg class=\"-ml-0.5 mr-2 h-4 w-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z\" clip-rule=\"evenodd\"></path>\n                </svg>\n                Teams\n              </button>\n              \n              <button type=\"button\" class=\"share-button inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\" data-platform=\"slack\">\n                <svg class=\"-ml-0.5 mr-2 h-4 w-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fill-rule=\"evenodd\" d=\"M2 5a2 2 0 012-2h8a2 2 0 012 2v10a2 2 0 002 2H4a2 2 0 01-2-2V5zm3 1h6v4H5V6zm6 6H5v2h6v-2z\" clip-rule=\"evenodd\"></path>\n                </svg>\n                Slack\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse\">\n        <button type=\"button\" id=\"close-share-modal\" class=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm\">\n          Done\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n\n{% endblock %}\n\n{% block extra_js %}\n<script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n<script src=\"{{ url_for('static', filename='js/training-report.js') }}?v={{ range(1000, 9999) | random }}\"></script>\n{% endblock %}"