{
  "retry_policies": {
    "ocr_processing": {
      "max_attempts": 3,
      "base_delay": 1.0,
      "max_delay": 30.0,
      "exponential_base": 2.0,
      "jitter": true,
      "backoff_multiplier": 1.5
    },
    "llm_processing": {
      "max_attempts": 5,
      "base_delay": 0.5,
      "max_delay": 60.0,
      "exponential_base": 2.0,
      "jitter": true,
      "backoff_multiplier": 2.0
    },
    "file_processing": {
      "max_attempts": 2,
      "base_delay": 2.0,
      "max_delay": 20.0,
      "exponential_base": 1.5,
      "jitter": false,
      "backoff_multiplier": 1.5
    },
    "mapping_service": {
      "max_attempts": 3,
      "base_delay": 1.0,
      "max_delay": 30.0,
      "exponential_base": 2.0,
      "jitter": true,
      "backoff_multiplier": 1.5
    },
    "grading_service": {
      "max_attempts": 3,
      "base_delay": 1.5,
      "max_delay": 45.0,
      "exponential_base": 2.0,
      "jitter": true,
      "backoff_multiplier": 2.0
    },
    "default": {
      "max_attempts": 3,
      "base_delay": 1.0,
      "max_delay": 30.0,
      "exponential_base": 2.0,
      "jitter": true,
      "backoff_multiplier": 2.0
    }
  },
  "timeouts": {
    "ocr_processing": 120,
    "llm_processing": 180,
    "file_processing": 60,
    "mapping_service": 90,
    "grading_service": 300,
    "health_check": 30,
    "service_initialization": 60,
    "default": 30
  },
  "cache_configuration": {
    "enabled": true,
    "default_ttl": 3600,
    "size_limits": {
      "ocr_cache": {
        "max_size_mb": 100,
        "max_entries": 1000
      },
      "llm_cache": {
        "max_size_mb": 200,
        "max_entries": 500
      },
      "file_cache": {
        "max_size_mb": 500,
        "max_entries": 2000
      },
      "template_cache": {
        "max_size_mb": 50,
        "max_entries": 100
      },
      "default": {
        "max_size_mb": 50,
        "max_entries": 500
      }
    },
    "expiration_policies": {
      "ocr_results": 7200,
      "llm_responses": 3600,
      "file_metadata": 1800,
      "template_data": 86400,
      "health_status": 300,
      "performance_metrics": 600
    },
    "cleanup_interval": 300,
    "auto_cleanup_enabled": true
  },
  "health_check_configuration": {
    "enabled": true,
    "intervals": {
      "service_health": 30,
      "system_health": 60,
      "performance_metrics": 120,
      "resource_usage": 180
    },
    "thresholds": {
      "response_time_warning_ms": 5000,
      "response_time_critical_ms": 10000,
      "error_rate_warning": 0.05,
      "error_rate_critical": 0.15,
      "memory_usage_warning": 0.80,
      "memory_usage_critical": 0.95,
      "cpu_usage_warning": 0.85,
      "cpu_usage_critical": 0.95,
      "disk_usage_warning": 0.90,
      "disk_usage_critical": 0.98
    },
    "consecutive_failures_threshold": 3,
    "recovery_check_interval": 300,
    "health_history_retention": 86400
  },
  "logging_configuration": {
    "levels": {
      "processing_services": "INFO",
      "error_handling": "WARNING",
      "performance_monitoring": "INFO",
      "health_checks": "INFO",
      "cache_operations": "DEBUG",
      "resource_management": "INFO"
    },
    "output_destinations": {
      "console": {
        "enabled": true,
        "level": "INFO",
        "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
      },
      "file": {
        "enabled": true,
        "level": "DEBUG",
        "path": "logs/processing.log",
        "max_size_mb": 50,
        "backup_count": 5,
        "format": "%(asctime)s - %(name)s - %(levelname)s - [%(filename)s:%(lineno)d] - %(message)s"
      },
      "error_file": {
        "enabled": true,
        "level": "ERROR",
        "path": "logs/processing_errors.log",
        "max_size_mb": 20,
        "backup_count": 10,
        "format": "%(asctime)s - %(name)s - %(levelname)s - [%(filename)s:%(lineno)d] - %(funcName)s - %(message)s"
      }
    },
    "structured_logging": {
      "enabled": true,
      "include_context": true,
      "include_performance_metrics": true,
      "include_request_id": true
    }
  },
  "performance_optimization": {
    "connection_pooling": {
      "enabled": true,
      "pool_size": 10,
      "max_overflow": 20,
      "pool_timeout": 30,
      "pool_recycle": 3600
    },
    "async_processing": {
      "enabled": true,
      "max_workers": 4,
      "queue_size": 100,
      "timeout": 300
    },
    "resource_limits": {
      "max_memory_mb": 1024,
      "max_cpu_percent": 80,
      "max_concurrent_operations": 10,
      "max_file_size_mb": 100
    },
    "optimization_strategies": {
      "enable_compression": true,
      "enable_streaming": true,
      "enable_batch_processing": true,
      "batch_size": 10
    }
  },
  "fallback_strategies": {
    "ocr_service": {
      "primary": "handwriting_ocr",
      "fallbacks": ["tesseract", "text_extraction"],
      "fallback_threshold": 0.7
    },
    "llm_service": {
      "primary": "deepseek",
      "fallbacks": ["local_processing", "template_based"],
      "fallback_threshold": 0.8
    },
    "file_processing": {
      "primary": "advanced_extraction",
      "fallbacks": ["basic_extraction", "text_only"],
      "fallback_threshold": 0.6
    },
    "template_rendering": {
      "primary": "jinja2",
      "fallbacks": ["simple_template", "text_output"],
      "fallback_threshold": 0.9
    }
  },
  "resource_management": {
    "cleanup": {
      "enabled": true,
      "temp_files_retention_hours": 24,
      "log_files_retention_days": 30,
      "cache_cleanup_interval": 3600,
      "memory_cleanup_threshold": 0.85
    },
    "monitoring": {
      "track_memory_usage": true,
      "track_cpu_usage": true,
      "track_disk_usage": true,
      "track_network_usage": false,
      "alert_on_resource_exhaustion": true
    },
    "limits": {
      "max_temp_files": 1000,
      "max_temp_size_mb": 2048,
      "max_log_size_mb": 500,
      "max_cache_size_mb": 1024
    }
  },
  "error_handling": {
    "categorization": {
      "critical_errors": ["database_connection", "service_initialization", "security_breach"],
      "recoverable_errors": ["api_timeout", "temporary_failure", "rate_limit"],
      "warning_errors": ["performance_degradation", "cache_miss", "fallback_used"],
      "info_errors": ["normal_operation", "cache_hit", "successful_retry"]
    },
    "notification": {
      "enabled": true,
      "channels": ["log", "email", "webhook"],
      "thresholds": {
        "critical": 1,
        "error": 5,
        "warning": 10
      },
      "cooldown_minutes": 15
    },
    "recovery": {
      "auto_recovery_enabled": true,
      "recovery_strategies": ["restart_service", "clear_cache", "fallback_mode"],
      "max_recovery_attempts": 3,
      "recovery_cooldown_minutes": 5
    }
  }
}